<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator By Henry</title>

    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body class="h-100">
    <div
      class="container w-100 w-lg-50 vh-100 py-5 px-3 shadow-lg text-center flex-fill"
    >
      <div class="row flex-fill d-flex justify-content-center">
        <div class="row pb-5">
          <div class="text-end font-monospace fw-bold fs-1 pe-5">
            <span id="view"></span>
            <!-- <span>8</span> -->
          </div>
        </div>
        <div class="row mb-1 h-auto">
          <div class="btn col-3 shadow-sm p-5 fs-3">
            <span>AC</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3">
            <span>%</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add('/')">
            <span>/</span>
          </div>
          <div
            class="btn btn-warning col-3 shadow-sm p-5 fs-3"
            onclick="add('*')"
          >
            <span>*</span>
          </div>
        </div>
        <div class="row mb-1 h-auto">
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(9)">
            <span>9</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(8)">
            <span>8</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(7)">
            <span>7</span>
          </div>
          <div
            class="btn btn-warning col-3 shadow-sm p-5 fs-3"
            onclick="add('-')"
          >
            <span>-</span>
          </div>
        </div>
        <div class="row mb-1 h-auto">
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(6)">
            <span>6</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(5)">
            <span>5</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(4)">
            <span>4</span>
          </div>
          <div
            class="btn btn-warning col-3 shadow-sm p-5 fs-3"
            onclick="add('+')"
          >
            <span>+</span>
          </div>
        </div>
        <div class="row mb-1 h-auto">
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(3)">
            <span>3</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(2)">
            <span>2</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(1)">
            <span>1</span>
          </div>
          <div class="btn btn-warning col-3 shadow-sm p-5 fs-3">
            <span>Del</span>
          </div>
        </div>
        <div class="row mb-5 h-auto">
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add(0)">
            <span>0</span>
          </div>
          <div class="btn col-3 shadow-sm p-5 fs-3" onclick="add('.')">
            <span>.</span>
          </div>
          <div
            class="btn btn-success col-6 shadow-sm p-5 fs-3"
            onclick="calc()"
          >
            <span>=</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      let view = document.getElementById("view");
      let num = [];
      let result = 0;

      let operators = ["+", "-", "*", "/"];

      let digits = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];

      function accumulateNumbers(numArray, digitArray) {
        let resultArray = [];
        let numberAccumulator = "";

        for (let item of numArray) {
          if (digitArray.includes(item) || item.length > 1) {
            numberAccumulator += item;
          } else {
            resultArray.push(numberAccumulator);
            resultArray.push(item);
            numberAccumulator = "";
          }
        }
        resultArray.push(numberAccumulator);
        return resultArray;
      }

      let add = (input) => {
        view.innerHTML += input;
        num.push(`${input}`);
      };

      let calc = () => {
        let accumulated = accumulateNumbers(num, digits);

        for (let i = 0; i < accumulated.length; i++) {
          if (accumulated[i] == "/") {
            result = accumulated[i - 1] / accumulated[i + 1];
          }
        }

        view.innerHTML = result;
        num = [`${result}`];
      };
    </script>
  </body>
</html>
